<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>this相关</title>
</head>
<body>
<script>
    // //this绑定，立即执行函数表达式
    // var num = 1;
    // var myObject = {
    //     num:2,
    //     add:function(){
    //         this.num = 3;
    //         (function(){
    //             console.log(this.num);
    //             this.num = 4;
    //         })();
    //         console.log(this.num);
    //     },
    //     sub:function(){
    //         console.log(this.num);
    //     }
    // }
    // myObject.add();
    // console.log(myObject.num);
    // console.log(num);
    // var sub = myObject.sub;
    // sub();
    // //结果  1 3 3 4 4
    //
    // var a = 2
    //
    // var obj = {
    //     a: 3,
    //     fn: function () {
    //         (() => {
    //             console.log(this);
    //             console.log(this.a)
    //         })()
    //     },
    // }
    //
    // var obj1 = {
    //     a: 3,
    //     fn: () => {
    //         console.log(this);
    //         console.log(this.a)
    //     },
    // }
    // obj.fn()
    // obj1.fn()
    // //箭头函数作为对象内部的方法时（obj1），向外找this的时候是找到该对象之外的，此处为window，
    // // 但是作为对象的属性里面的函数的时候，向外找，就相当于找该属性外面一层，就是该对象，此处就是obj。
    //
    //
    // var a = function () {
    //     this.b = 3;
    // }
    // var c = new a();
    // a.prototype.b = 9;
    // var b = 7;
    // a();
    // console.log(b)
    // console.log(c.b)


    var length = 10;
    function fn() {
        return this.length + 1;
    }
    let obj = {
        length: 5,
        test: function () {
            return fn();
        }
    }
    obj.test2 = fn;
    console.log(obj.test())
    console.log(fn() === obj.test2())

</script>
</body>
</html>